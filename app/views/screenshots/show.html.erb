<br>
<div class="col-10 offset-1">
  <span id="the-pic"><%= image_tag @screenshot.picture.url, class: "img-fluid"%></span>
  <p class="pic-caption"><%= @screenshot.caption %></p>
  <br>
  <%= link_to "Back", game_path(@screenshot.game), class:'btn btn-warning col-2' %>
  <%= link_to "Delete Image", game_screenshot_path(@screenshot.game, @screenshot), method: :delete, data: {confirm: 'Are you sure you want to delete this?'},class: 'btn btn-danger col-2' %>
  <button class="btn btn-info col-2" id="js-next" data-pic="<%= @screenshot.id %>" data-game="<%= @screenshot.game.id %>">Next...</button>
  
</div>

<script type="text/javascript" charset="utf-8">

  $(function () {

    $("#js-next").on("click", function() {

      var nextId = $(this).data("pic");
      var gameId = $(this).data("game");

      $.get("/games/" + gameId + "/screenshots.json", function(data) {

        let nextImg = data.filter(image => image.id > nextId)[0];

        $("#the-pic").html("<img src=" + nextImg["avatar_url"] + " class='img-fluid' >");
        $(".pic-caption").text(nextImg["caption"]);
        $("#js-next").data("pic", nextImg["id"]);
        $("#js-next").data("game", gameId);

      });

    });

  });

</script>
